<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>QRCode</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
	<style>
		html, body, div {
			padding: 0;
			margin: 0;
		}

		#qrcode {
			width: 100px;
			height: 100px;
			margin: 15px;
			padding: 5px;
			box-shadow: 0 0 10px rgba(0,0,0,0.2);
		}

		#original {
			width: 200px;
		}

		#generate {
			margin: 0 15px;
			padding: 8px 10px;
			border: solid 1px #ddd;
			border-radius: 5px;
			font-size: 14px;
			color: #666;
			text-decoration: none;
		}
	</style>
</head>
<body>
<div id="qrcode"></div>
<input type="text" id="original"><a id="generate" href="">生成 QRCode</a>

<script src="./dist/qrcode2.min.js"></script>
<script>
	var $qrcode = document.querySelector('#qrcode'),
			$input = document.querySelector('#original'),
			qrcode = new QRCode2.default($qrcode, {
				width: 100,
				height: 100
			});

	var makeCode = function() {
		$input.value = 'http://www.hujiang.com?_=qr-' + Math.floor(Math.random() * 1000);
		qrcode.makeCode($input.value);
	};

	makeCode();

	document.querySelector('#generate').addEventListener('click', function(event) {
		event.preventDefault();
		makeCode();
	}, false);
</script>
</body>
</html>